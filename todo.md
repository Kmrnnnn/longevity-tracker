# Longevity Tracker - 项目TODO

## 核心功能

### 数据模型与数据库
- [x] 设计数据库schema（用户、体检数据、每日打卡、健康指标历史）
- [x] 实现数据库迁移和初始化

### 体检数据管理（Phase 4）
- [x] 创建体检数据输入表单（手动输入生物标志物）
- [x] 实现体检报告上传功能
- [x] 集成LLM解析体检报告提取关键指标
- [x] 构建体检数据存储和历史记录

### 生物年龄计算引擎（Phase 4）
- [x] 实现PhenoAge生物年龄计算算法
- [x] 实现基于生活方式的寿命调整计算
- [x] 创建寿命预测计算引擎
- [x] 编写单元测试验证计算准确性

### 每日打卡系统（Phase 5）
- [x] 设计每日打卡数据结构
- [x] 创建每日打卡UI界面
- [x] 实现打卡数据持久化
- [x] 构建打卡历史查询功能

### 实时寿命预测（Phase 5）
- [x] 实现基于打卡数据的实时寿命计算
- [x] 创建寿命倒计时显示组件（年/月/日/时/分/秒）
- [x] 实现打卡数据对寿命的动态影响

### 数据可视化（Phase 6）
- [x] 生物年龄变化曲线图
- [x] 健康评分历史趋势图
- [x] 各项指标对寿命的影响分析图
- [x] 健康因素权重分布饼图
- [x] 改善潜力分析图表

### AI健康建议引擎（Phase 6）
- [x] 集成LLM分析用户健康数据（基础版）
- [x] 生成个性化健康建议
- [x] 实现建议的量化效果预测
- [x] 创建建议历史记录

### UI设计与用户体验（Phase 7）
- [x] 设计应用整体风格（医疗专业性+现代感）
- [x] 创建主页面布局
- [x] 实现导航栏设计
- [x] 创建仪表板视图
- [x] 优化移动端响应式设计
- [x] 实现流畅的动画效果

### Stripe支付功能集成（Phase 2 - 新增）
- [ ] 设计订阅计划（免费版、专业版、高级版）
- [ ] 创建Stripe支付数据库schema
- [ ] 实现Stripe Webhook处理
- [ ] 创建支付页面和订阅管理UI
- [ ] 实现订阅状态检查和权限控制
- [ ] 添加发票管理功能
- [ ] 实现支付失败重试机制

### 测试与优化（Phase 3 & 8）
- [x] 编写生物年龄计算的vitest单元测试
- [ ] 编写寿命预测算法的vitest单元测试
- [ ] 编写Stripe集成测试
- [ ] 集成测试验证端到端流程
- [ ] 性能优化（缓存、数据库查询优化）
- [ ] 安全性审计（SQL注入、XSS防护、CSRF令牌）
- [ ] 用户体验测试和反馈

### 细节完善（Phase 4 & 5）
- [ ] 修复已知bug
- [ ] 优化加载性能
- [ ] 完善错误处理
- [ ] 添加用户反馈机制
- [ ] 实现数据导出功能
- [ ] 添加应用内通知系统

### 部署与交付
- [ ] 创建项目checkpoint
- [ ] 部署应用
- [ ] 交付给用户

## 已完成
- [x] 初始化项目架构（web-db-user）
- [x] 研究科学寿命预测算法
- [x] 收集生物标志物标准数据
- [x] 实现核心计算引擎
- [x] 创建tRPC API路由
- [x] 开发前端UI组件
- [x] 集成数据可视化
- [x] 体检报告上传和LLM解析
- [x] 个人档案管理

## 下一步
1. 集成Stripe支付功能
2. 完成所有单元测试
3. 性能和安全性优化
4. 创建最终checkpoint并部署
